<?php   /* Комментарии оставляю для себя, чтобы не запутаться. Отступы кода опять же для себя PHP не требудет отступов, но так понятнее
        *`<?php`** и **`?>`**: Эти теги указывают на начало и конец блока PHP-кода. Все, что между этими тегами, будет выполнено как код PHP.
        - **`session_start()`**: Эта функция запускает сессию. Она позволяет хранить информацию о пользователе на сервере. 
        Так мы можем отслеживать, вошел ли пользователь в систему или нет.
        */

session_start();
?>                

                <!-- **`<!DOCTYPE html>`**: Эта строка сообщает браузеру, что это HTML5 документ. 
                - **`<html lang="ru">`**: Открывающий тег HTML. Атрибут `lang` указывает, что язык контента — русский.
                - **`<head>`**: Здесь помещается метаинформация о документе (она не отображается на странице). 
                - **`<meta charset="UTF-8">`**: Задает кодировку символов UTF-8, что позволяет использовать широкий набор символов (например, русские буквы).
                - **`<title>Главная страница</title>`**: Заголовок страницы, который отображается на вкладке браузера.
                - **`</head>`** и **`<body>`**: Закрывающий тег для `<head>` и открывающий тег для содержимого страницы (все, что видно пользователю).
                <h1>Добро пожаловать!</h1>
                <p>Пожалуйста, выберите действие:</p>
                - **`<h1>`**: Заголовок первого уровня. В данном случае — "Добро пожаловать!".
                - **`<p>`**: Параграф, содержащий текст "Пожалуйста, выберите действие:".
                <a href="register.php">Регистрация</a><br>
                <a href="login.php">Авторизация</a><br>
                - **`<a href="register.php">Регистрация</a>`**: Ссылка на страницу регистрации. Атрибут `href` определяет адрес, на который будет осуществлен переход при нажатии на текст "Регистрация".
                - **`<br>`**: Перенос строки для отделения ссылок один от другого.
                - Следующая строка аналогична, но ссылается на страницу авторизации.-->

<!DOCTYPE html>                 

<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>Главная страница</title>
</head>
<body>

<h1>Добро пожаловать!</h1>

<p>Пожалуйста, выберите действие:</p>

<a href="register.php">Регистрация</a><br>
<a href="login.php">Авторизация</a><br>

<?php
    /*  - **`if (isset($_SESSION['user_id'])) {`**: Условие проверяет, существует ли переменная `user_id` в сессии. Это означает, что пользователи вошли в систему.
        - **`echo`**: Эта команда выводит текст на экран. Если условие истинно, выводится ссылка на страницу профиля и кнопка "Выйти".
        - **`<form method="POST" action="">`**: Создается HTML-форма для выхода. Метод `POST` означает, что данные будут отправлены на сервер.
        - **`<button type="submit" name="logout">Выйти</button>`**: Кнопка для отправки формы. При нажатии на нее будет отправлен запрос на выход.
    */

if (isset($_SESSION['user_id'])) {
    echo '<a href="profile.php">Перейти в профиль</a><br>';
    echo '<form method="POST" action=""><button type="submit" name="logout">Выйти</button></form>';
}
?>

<a href="index.php">Вернуться на главную страницу</a> //Ссылка для возврата на главную страницу.

<?php
    /*  - **`if (isset($_POST['logout'])) {`**: Проверяет, отправлена ли форма для выхода.
        - **`session_destroy();`**: Уничтожает сессию, тем самым пользователь выходит из системы.
        - **`header("Location: index.php");`**: Перенаправляет пользователя на главную страницу.
        - **`exit;`**: Завершает выполнение текущего скрипта.
    */
if (isset($_POST['logout'])) {
    session_destroy();
    header("Location: index.php");
    exit;
}
?>

</body>
</html>